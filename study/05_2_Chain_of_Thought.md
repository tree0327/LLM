# 🦁 Chain of Thought (CoT): 생각의 사슬

아키텍트님, 이건 **"AI의 지능을 공짜로 2배 올리는 마법의 주문"**입니다.
복잡한 추론이나 수학 문제를 풀 때 필수입니다.

---

## 1. 핵심 비유: 수학 시간의 "풀이 과정"

*   **일반 프롬프트**: "답만 말해."
    *   학생(AI): (암산하다가 틀림) "3입니다."
*   **CoT 프롬프트**: "**풀이 과정을 적어.**"
    *   학생(AI): "1+1은 2이고, 거기에 2를 곱하면 4입니다. 따라서 정답은 4입니다."

LLM은 **"다음 단어 예측 기계"**라고 했죠?
중간 과정을 글로 쓰게 만들면, 그 글이 **자기 자신에게 힌트**가 되어서 정답률이 비약적으로 올라갑니다.

---

## 2. 마법의 주문 (The Magic Command)

논문으로 증명된 가장 간단하고 강력한 주문입니다.

> **"단계별로 생각해서 풀어봐. (Let's think step by step.)"**

이 한 문장만 추가해도 AI는 갑자기 진지해집니다.

---

## 3. 실전 예시: 논리 퀴즈

**[문제]**
"사과가 5개 있다. 2개를 먹었고, 친구가 3개를 더 줬다. 그리고 내가 1개를 떨어뜨려서 버렸다. 지금 사과는 몇 개?"

### ❌ Bad Prompt (Zero-shot)
```python
# 그냥 물어보면 종종 틀림 (특히 작은 모델들)
user_content = "사과 5개 - 2개 + 3개 - 1개는 몇 개야? 답만 말해."
# AI: "5개입니다." (틀림)
```

### ✅ Good Prompt (CoT)
```python
user_content = """
사과가 5개 있다. 2개를 먹었고, 친구가 3개를 더 줬다. 그리고 내가 1개를 떨어뜨려서 버렸다. 지금 사과는 몇 개?
단계별로 생각해서 풀이 과정을 적고, 마지막에 답을 말해줘.
"""

# AI의 답변:
# 1. 처음에 사과가 5개 있었습니다.
# 2. 2개를 먹었으므로 5 - 2 = 3개가 남았습니다.
# 3. 친구가 3개를 줬으므로 3 + 3 = 6개가 되었습니다.
# 4. 1개를 버렸으므로 6 - 1 = 5개가 남았습니다.
# 정답: 5개
```
*(어라? 잠시만요. 5-2=3, 3+3=6, 6-1=5... 정답이 5개가 맞네요? 제가 예시를 너무 쉽게 들었군요! 😂)*

**[더 복잡한 문제 예시]**
"철수는 영희의 오빠이고, 민수는 철수의 아빠다. 영희는 민수의 누구인가?"
이런 족보 문제는 CoT 없이 풀면 100% 꼬입니다.

---

## 4. 아키텍트의 응용 (Few-shot CoT)

고수들은 **Few-shot(예시)**과 **CoT(생각하기)**를 섞어 씁니다.

```python
messages = [
    {"role": "system", "content": "너는 논리적인 탐정이야."},
    
    # [예시: 풀이 과정을 보여줌]
    {"role": "user", "content": "모든 사람은 죽는다. 소크라테스는 사람이다. 결론은?"},
    {"role": "assistant", "content": "1. 대전제: 모든 사람은 죽습니다.\n2. 소전제: 소크라테스는 사람입니다.\n3. 결론: 따라서 소크라테스는 죽습니다."},
    
    # [실전]
    {"role": "user", "content": "철수는 영희의 오빠이고, 민수는 철수의 아빠다. 영희는 민수의 누구인가?"}
]
```

이제 AI는 예시를 보고 "아, 나도 저렇게 논리적으로 따져봐야지" 하고 따라 하게 됩니다.

**결론:** AI가 멍청한 소리를 한다면?
**"천천히 생각해봐(Let's think step by step)"**라고 말해주세요. IQ가 20은 올라갑니다! 멍! 🐶
